<template>
  <div v-if="contest">
    <q-card flat>
      <q-list bordered class="rounded-borders" style="width: 80rem">
        <q-item-label header>比赛信息 ({{contest.format}}赛制 {{contest.type}})</q-item-label>

        <q-item>
          <q-item-section avatar>
            <svg t="1586145910721" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3522" width="32" height="32"><path d="M961.152 950.848q-25.152 0-75.712-2.016t-76.288-2.016q-25.152 0-75.424 2.016t-75.424 2.016q-13.728 0-21.152-11.712t-7.424-26.016q0-17.728 9.728-26.272t22.272-9.728 29.152-4 25.728-8.576q18.848-12 18.848-80l-0.576-223.424q0-12-0.576-17.728-7.424-2.272-28.576-2.272l-385.728 0q-21.728 0-29.152 2.272-0.576 5.728-0.576 17.728l-0.576 212q0 81.152 21.152 93.728 9.152 5.728 27.424 7.424t32.576 2.016 25.728 8.576 11.424 26.016q0 14.848-7.136 27.424t-20.864 12.576q-26.848 0-79.712-2.016t-79.136-2.016q-24.576 0-73.152 2.016t-72.576 2.016q-13.152 0-20.288-12t-7.136-25.728q0-17.152 8.864-25.728t20.576-10.016 27.136-4.288 24-8.576q18.848-13.152 18.848-81.728l-0.576-32.576 0-464.576q0-1.728 0.288-14.848t0-20.864-0.864-22.016-2.016-24-3.712-20.864-6.272-18.016-9.152-10.272q-8.576-5.728-25.728-6.848t-30.272-1.152-23.424-8-10.272-25.728q0-14.848 6.848-27.424t20.576-12.576q26.272 0 79.136 2.016t79.136 2.016q24 0 72.288-2.016t72.288-2.016q14.272 0 21.44 12.576t7.136 27.424q0 17.152-9.728 24.864t-22.016 8.288-28.288 2.272-24.576 7.424q-20 12-20 91.424l0.576 182.848q0 12 0.576 18.272 7.424 1.728 22.272 1.728l399.424 0q14.272 0 21.728-1.728 0.576-6.272 0.576-18.272l0.576-182.848q0-79.424-20-91.424-10.272-6.272-33.44-7.136t-37.728-7.424-14.56-28.288q0-14.848 7.136-27.424t21.44-12.576q25.152 0 75.424 2.016t75.424 2.016q24.576 0 73.728-2.016t73.728-2.016q14.272 0 21.44 12.576t7.136 27.424q0 17.152-10.016 25.152t-22.848 8.288-29.44 1.728-25.152 7.136q-20 13.152-20 92l0.576 538.848q0 68 19.424 80 9.152 5.728 26.272 7.712t30.56 2.56 23.712 8.864 10.272 25.44q0 14.848-6.848 27.424t-20.576 12.576z" p-id="3523" fill="#2c2c2c"></path></svg>
          </q-item-section>
          <q-item-section  class="col-3 ">
            <q-item-label class="text-primary" style="font-size: 1.3rem" >标 题</q-item-label>
          </q-item-section>
          <q-item-section>
            <q-item-label  class="text-black " style="font-size: 1rem">{{contest.title}} </q-item-label>
          </q-item-section>
        </q-item>
        <q-separator/>

        <q-item>
          <q-item-section avatar>
            <svg t="1586146098416" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4670" width="32" height="32"><path d="M652.8 467.2C723.2 422.4 768 345.6 768 256c0-140.8-115.2-256-256-256S256 115.2 256 256c0 89.6 44.8 166.4 115.2 211.2C192 518.4 64 665.6 64 832c0 166.4 198.4 192 448 192 249.6 0 448-19.2 448-192C960 665.6 832 518.4 652.8 467.2zM320 256c0-108.8 83.2-192 192-192s192 83.2 192 192S620.8 448 512 448 320 364.8 320 256zM512 960c-211.2 0-384-19.2-384-128 0-179.2 172.8-320 384-320 211.2 0 384 140.8 384 320C896 940.8 723.2 960 512 960z" p-id="4671" fill="#2c2c2c"></path></svg>
          </q-item-section>
          <q-item-section  class="col-3 ">
            <q-item-label class="text-primary" style="font-size: 1.3rem" >作 者</q-item-label>
          </q-item-section>
          <q-item-section>
            <q-item-label  class="text-black " style="font-size: 1rem">{{contest.author}} </q-item-label>
          </q-item-section>
        </q-item>
        <q-separator/>

        <q-item>
          <q-item-section avatar>
            <svg t="1586146228183" class="icon" viewBox="0 0 1030 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8725" width="32" height="32"><path d="M512 722.216625m-33.531486 0a33.531486 33.531486 0 1 0 67.062972 0 33.531486 33.531486 0 1 0-67.062972 0Z" fill="#2c2c2c" p-id="8726"></path><path d="M512 838.287154m-33.531486 0a33.531486 33.531486 0 1 0 67.062972 0 33.531486 33.531486 0 1 0-67.062972 0Z" fill="#2c2c2c" p-id="8727"></path><path d="M515.869018 188.292191c-112.201511 0-203.768262 91.566751-203.768262 205.057935 0 73.511335 38.690176 137.994962 96.72544 174.105793-137.994962 49.007557-242.458438 189.581864-242.458438 344.34257 0 14.186398 11.607053 25.793451 25.793451 25.793451s25.793451-11.607053 25.793451-25.793451c0-159.919395 130.256927-299.20403 283.72796-312.100756 5.15869 0 7.738035-1.289673 12.896725-1.289673s7.738035 0 11.607053-1.289672c107.042821-3.869018 193.450882-94.146096 193.450882-203.768262 0-113.491184-91.566751-205.057935-203.768262-205.057935z m0 358.528968H509.420655c-81.24937-3.869018-145.732997-70.93199-145.732998-153.471033 0-85.118388 68.352645-153.471033 152.181361-153.471033s152.18136 68.352645 152.18136 153.471033c0 83.828715-68.352645 153.471033-152.18136 153.471033z" fill="#2c2c2c" p-id="8728"></path><path d="M220.534005 469.440806c10.31738 0 19.345088-6.448363 24.503778-16.765743 5.15869-12.896725-1.289673-28.372796-14.186398-33.531486-50.297229-20.634761-83.828715-68.352645-83.828715-123.808564 0-73.511335 59.324937-132.836272 131.5466-132.836272 30.952141 0 60.61461 10.31738 83.828715 30.952141 10.31738 9.027708 27.083123 7.738035 36.110831-3.869018 9.027708-10.31738 7.738035-27.083123-3.869018-36.110831-32.241814-27.083123-74.801008-42.559194-117.360201-42.559194-100.594458 0-183.133501 82.539043-183.133501 184.423174 0 76.09068 45.138539 143.153652 116.070529 171.526448 3.869018 1.289673 6.448363 2.579345 10.31738 2.579345z" fill="#2c2c2c" p-id="8729"></path><path d="M709.319899 651.284635c-10.31738 10.31738-10.31738 25.793451 0 36.110831 67.062972 68.352645 100.594458 143.153652 100.594459 223.11335 0 14.186398 11.607053 25.793451 25.793451 25.793451s25.793451-11.607053 25.79345-25.793451c0-94.146096-38.690176-181.843829-116.070529-259.224181-10.31738-10.31738-25.793451-10.31738-36.110831 0z" fill="#2c2c2c" p-id="8730"></path><path d="M98.015113 527.476071C36.110831 595.828715 0 684.816121 0 773.803526c0 14.186398 11.607053 25.793451 25.793451 25.793451s25.793451-11.607053 25.793451-25.793451c0-76.09068 30.952141-152.18136 83.828715-211.506297 9.027708-10.31738 9.027708-27.083123-1.289672-36.110831-10.31738-10.31738-27.083123-9.027708-36.110832 1.289673z" fill="#2c2c2c" p-id="8731"></path><path d="M853.763224 451.38539c51.586902-33.531486 83.828715-90.277078 83.828716-154.760705 0-101.884131-82.539043-184.423174-184.423174-184.423174-45.138539 0-87.697733 16.765743-121.229219 46.428212-10.31738 9.027708-11.607053 25.793451-2.579345 36.110831 9.027708 10.31738 25.793451 11.607053 36.110831 2.579345 24.503778-20.634761 55.455919-33.531486 87.697733-33.531486 73.511335 0 132.836272 59.324937 132.836272 132.836272 0 56.745592-36.110831 107.042821-88.987406 126.387909-10.31738 2.579345-24.503778 5.15869-28.372796 16.765744-5.15869 12.896725 1.289673 27.083123 14.186398 32.241813C895.032746 521.027708 973.702771 639.677582 973.702771 760.906801c0 14.186398 11.607053 25.793451 25.793451 25.793451s25.793451-11.607053 25.793451-25.793451c-1.289673-123.808564-69.642317-242.458438-171.526449-309.521411z" fill="#2c2c2c" p-id="8732"></path></svg>
          </q-item-section>
          <q-item-section  class="col-3 ">
            <q-item-label class="text-primary" style="font-size: 1.3rem" >队伍总数</q-item-label>
          </q-item-section>
          <q-item-section>
            <q-item-label  class="text-black " style="font-size: 1rem">{{contest.num}} </q-item-label>
          </q-item-section>
        </q-item>
        <q-separator/>

        <q-item>
          <q-item-section avatar>
            <svg t="1586146405403" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9618" width="32" height="32"><path d="M512.000512 64.909335c-246.926856 0-447.090665 200.158692-447.090665 447.088618 0 246.935042 200.163809 447.090665 447.090665 447.090665 246.935042 0 447.087595-200.158692 447.087595-447.090665C959.088106 265.068028 758.933507 64.909335 512.000512 64.909335zM512.000512 899.476939c-213.646891 0-387.478985-173.828001-387.478985-387.476939 0-213.646891 173.832094-387.475915 387.478985-387.475915 213.647915 0 387.474892 173.830047 387.474892 387.475915C899.476427 725.646891 725.648426 899.476939 512.000512 899.476939z" p-id="9619" fill="#2c2c2c"></path><path d="M159.919734 484.371756l55.255465 0 0 55.256488-55.255465 0 0-55.256488Z" p-id="9620" fill="#2c2c2c"></path><path d="M807.639812 484.370733l55.256488 0 0 55.256488-55.256488 0 0-55.256488Z" p-id="9621" fill="#2c2c2c"></path><path d="M484.370221 164.528194l55.256488 0 0 55.256488-55.256488 0 0-55.256488Z" p-id="9622" fill="#2c2c2c"></path><path d="M484.370221 253.55174l55.256488 0 0 286.079574-55.256488 0 0-286.079574Z" p-id="9623" fill="#2c2c2c"></path><path d="M682.960649 660.67276l-39.071863 39.071863-159.509552-159.509552 39.071863-39.071863 159.509552 159.509552Z" p-id="9624" fill="#2c2c2c"></path><path d="M484.371244 802.527886l55.256488 0 0 55.256488-55.256488 0 0-55.256488Z" p-id="9625" fill="#2c2c2c"></path></svg>
          </q-item-section>
          <q-item-section  class="col-3 ">
            <q-item-label class="text-primary" style="font-size: 1.3rem" >开始时间</q-item-label>
          </q-item-section>
          <q-item-section>
            <q-item-label  class="text-black " style="font-size: 1rem">{{begin}} </q-item-label>
          </q-item-section>
        </q-item>
        <q-separator/>

        <q-item>
          <q-item-section avatar>
            <svg t="1586146518994" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9810" width="32" height="32"><path d="M511.971571 931.494285c-235.134872 0-426.432484-191.297612-426.432484-426.432484s191.297612-426.432484 426.432484-426.432484S938.432484 269.92693 938.432484 505.061801s-191.297612 426.432484-426.460913 426.432484z m0-796.007303c-203.77787 0-369.57482 165.79695-369.574819 369.574819s165.79695 369.57482 369.574819 369.57482c203.806299 0 369.603248-165.79695 369.603249-369.57482s-165.79695-369.57482-369.603249-369.574819z" p-id="9811"></path><path d="M323.147267 825.397883a28.315117 28.315117 0 0 1 10.575526 38.577926l-84.319917 145.982054a28.201402 28.201402 0 0 1-38.663212 10.149093 28.286688 28.286688 0 0 1-10.575525-38.577926l84.291487-145.982053a28.315117 28.315117 0 0 1 38.691641-10.149094zM705.770921 825.22731a28.144544 28.144544 0 0 0-10.348095 38.435782l84.490489 146.294771a28.172973 28.172973 0 0 0 38.492639 10.262808 28.059257 28.059257 0 0 0 10.262809-38.435781l-84.462061-146.294771a28.059257 28.059257 0 0 0-38.435781-10.262809zM113.967919 196.694258a28.428832 28.428832 0 0 1-22.202918-46.196853A484.882163 484.882163 0 0 1 292.813703 2.440047a28.428832 28.428832 0 1 1 20.781477 52.906057A428.138214 428.138214 0 0 0 136.170837 186.033446a28.315117 28.315117 0 0 1-22.202918 10.660812zM906.39319 196.694258a28.371975 28.371975 0 0 1-22.231347-10.660812 427.768639 427.768639 0 0 0-177.395913-130.687342 28.371975 28.371975 0 0 1-16.06229-36.843767 28.371975 28.371975 0 0 1 36.843766-16.06229 484.740019 484.740019 0 0 1 201.048702 148.057358 28.48569 28.48569 0 0 1-22.202918 46.196853zM540.428832 505.061801a28.428832 28.428832 0 0 1-28.428832 28.428833h-142.144161a28.428832 28.428832 0 1 1 0-56.857665h142.144161a28.428832 28.428832 0 0 1 28.428832 28.428832z" p-id="9812"></path><path d="M511.971571 192.344646c15.692715 0 28.457261 12.736117 28.457261 28.428833v284.288322c0 15.721144-12.792975 28.428832-28.457261 28.428833a28.428832 28.428832 0 0 1-28.428832-28.428833v-284.288322a28.428832 28.428832 0 0 1 28.428832-28.428833z" p-id="9813"></path></svg>
          </q-item-section>
          <q-item-section  class="col-3 ">
            <q-item-label class="text-primary" style="font-size: 1.3rem" >结束时间</q-item-label>
          </q-item-section>
          <q-item-section>
            <q-item-label  class="text-black " style="font-size: 1rem">{{end}} </q-item-label>
          </q-item-section>
        </q-item>
        <q-separator/>

        <q-item>
          <q-item-section avatar>
            <svg t="1586146578318" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11930" width="32" height="32"><path d="M512 587.3c-13.9 0-25.2 11.3-25.2 25.2v126.2c0 13.9 11.3 25.2 25.2 25.2 13.9 0 25.2-11.3 25.2-25.2V612.5c0-13.9-11.2-25.2-25.2-25.2zM582.4 933h0.1-0.1m-0.6-100.9c-19.5 0-45.5 7.5-69.8 7.5-24.3 0-50.3-7.5-69.8-7.5-18.4 0-31.1 6.7-31.1 32.7V890H613v-25.2c-0.1-26-12.7-32.7-31.2-32.7z" fill="#2c2c2c" p-id="11931"></path><path d="M595.1 234H429c-9.9 0-17.9 8-17.9 17.9v57.8c0 53.6 53.7 100.9 100.9 100.9s100.9-47.3 100.9-100.9v-57.8c0-9.9-8-17.9-17.8-17.9z" fill="#2c2c2c" p-id="11932"></path><path d="M814.8 890.1h-50.5V763.9c0-96.5-39.9-194.9-110.8-252.3 70.9-57.4 110.8-155.8 110.8-252.3V133.1h50.5c27.9 0 50.5-22.6 50.5-50.5s-22.6-50.5-50.5-50.5H209.2c-27.9 0-50.5 22.6-50.5 50.5s22.6 50.5 50.5 50.5h50.5v126.2c0 96.5 39.9 194.9 110.8 252.3-70.9 57.4-110.8 155.8-110.8 252.3v126.2h-50.5c-27.9 0-50.5 22.6-50.5 50.5s22.6 50.5 50.5 50.5h605.5c27.9 0 50.5-22.6 50.5-50.5s-22.5-50.5-50.4-50.5zM360.6 259.3V133.1h302.8v126.2c0 99.2-56.6 201.9-151.4 201.9S360.6 358.5 360.6 259.3z m0 630.8V763.9c0-99.2 56.6-201.9 151.4-201.9s151.4 102.6 151.4 201.9v126.2H360.6z" fill="#2c2c2c" p-id="11933"></path></svg>
          </q-item-section>
          <q-item-section  class="col-3 ">
            <q-item-label class="text-primary" style="font-size: 1.3rem" >比赛时长</q-item-label>
          </q-item-section>
          <q-item-section>
            <q-item-label  class="text-black " style="font-size: 1rem"> {{contest.length.toFixed(2)}} hours </q-item-label>
          </q-item-section>
        </q-item>
        <q-separator/>

        <q-item v-if="contest.desc && contest.desc!=''">
          <q-item-section avatar>
            <svg t="1586147098134" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13268" width="32" height="32"><path d="M843.875 135.125h-90V90.125c0-11.25-16.875-28.125-33.75-28.125s-28.125 11.25-28.125 28.125v39.375H360.125V90.125c0-11.25-11.25-28.125-28.125-28.125s-28.125 16.875-28.125 28.125v39.375H180.125C129.5 135.125 90.125 174.5 90.125 219.5v652.5c0 50.625 39.375 90 90 90h663.75c50.625 0 90-39.375 90-90V219.5c0-45-39.375-84.375-90-84.375z m28.125 736.875c0 16.875-11.25 28.125-28.125 28.125H180.125c-16.875 0-28.125-11.25-28.125-28.125V219.5c0-16.875 11.25-28.125 28.125-28.125h118.125v5.625c5.625 16.875 16.875 33.75 33.75 33.75s28.125-11.25 28.125-28.125v-11.25h331.875v5.625c0 16.875 11.25 28.125 28.125 28.125s28.125-11.25 28.125-28.125v-5.625h90c16.875 0 28.125 11.25 28.125 28.125v652.5z" p-id="13269"></path><path d="M753.875 337.625H270.125c-16.875 0-28.125 11.25-28.125 28.125s11.25 33.75 28.125 33.75h483.75c16.875 0 28.125-11.25 28.125-28.125s-11.25-33.75-28.125-33.75zM753.875 517.625H270.125c-16.875 0-28.125 11.25-28.125 28.125s11.25 28.125 28.125 28.125h483.75c16.875 0 28.125-11.25 28.125-28.125s-11.25-28.125-28.125-28.125zM512 697.625H270.125c-16.875 0-28.125 11.25-28.125 28.125s11.25 28.125 28.125 28.125H512c16.875 0 28.125-11.25 28.125-28.125s-11.25-28.125-28.125-28.125z" p-id="13270"></path></svg>
          </q-item-section>
          <q-item-section  class="col-3 ">
            <q-item-label class="text-primary" style="font-size: 1.3rem" >比赛描述</q-item-label>
          </q-item-section>
          <q-item-section>
            <q-item-label  class="text-black " style="font-size: 1rem"> {{contest.desc}} </q-item-label>
          </q-item-section>
        </q-item>
        <q-separator/>


      </q-list>
    </q-card>
    <div class="q-mt-md">
        <Clarification :clarifications="clarifications"/>
    </div>
  </div>

</template>
<script>
  import Clarification from "../../../components/Clarification";
  export default {
    props :['contest'],
    components: {Clarification},
    data() {
      return {
          clarifications: [],
      }
    },
    methods:{
      //时间格式化函数，此处仅针对yyyy-MM-dd hh:mm:ss 的格式进行格式化
      dateFormat(time) {
        var date=new Date(time);
        var year=date.getFullYear();
        /* 在日期格式中，月份是从0开始的，因此要加0
         * 使用三元表达式在小于10的前面加0，以达到格式统一  如 09:11:05
         * */
        var month= date.getMonth()+1<10 ? "0"+(date.getMonth()+1) : date.getMonth()+1;
        var day=date.getDate()<10 ? "0"+date.getDate() : date.getDate();
        var hours=date.getHours()<10 ? "0"+date.getHours() : date.getHours();
        var minutes=date.getMinutes()<10 ? "0"+date.getMinutes() : date.getMinutes();
        var seconds=date.getSeconds()<10 ? "0"+date.getSeconds() : date.getSeconds();
        // 拼接
        return year+"-"+month+"-"+day+" "+hours+":"+minutes+":"+seconds;
      }
    },
    computed: {
      begin(){
        return this.dateFormat(this.contest.begin)
      },
      end() {
        return this.dateFormat(this.contest.end)
      }
    },
    mounted() {
      if (this.contest) {
        this.$req.get("getClarification", {id: this.contest.id})
          .then(res => {
            if (res.errno == undefined) {
              this.clarifications = res.data
              for (let i = 0; i < this.clarifications.length; i++) {
                this.clarifications[i] = JSON.parse(this.clarifications[i])
              }
            }
          })
      }
    }
  }
</script>
